import{g as L,b as j,h as b,c as k,o as c,d as R,e as S,s as h,f as U,i as l,j as g,k as A,T as y,a as x}from"./TheFooter-2b55af18.js";import{_ as B,o as p,c as u,b as e,w as m,v as _,t as f,a as M,p as D,h as C,d as r,F as E}from"./index-61ddf6ad.js";const I=L(k),w=j(k),F=b(I,"getProfileInfo"),v=b(I,"updateProfile"),z={data(){return{email:"",password:"",uid:"",isLoggedIn:!1,accountInfo:{},newBio:"",newURL:""}},created(){this.refresh()},watch:{"$route.params":{handler(){this.refresh()}}},methods:{opensignin(){c(0)},opensignup(){c(1)},openProfileEdit(){c(2)},closeProfileEdit(){R(2)},refresh(){this.accountInfo={},S(w,t=>{this.uid=t?t.uid:this.$route.params.uid,this.isLoggedIn=!!t,this.isLoggedIn&&this.uid!=null&&JSON.stringify(g())=="{}"?(console.log("Getting Profile From Server"),F({id:this.uid}).then(n=>{l(n.data),this.accountInfo=n.data}).catch(n=>{console.log(n.code),console.log(n.message)})):this.accountInfo=g()})()},logout(){h(this),w.signOut(),A(""),l({}),this.isLoggedIn=!1,this.$router.push({path:"/AccountPage/"}),U()},updateProfile(){h(this),this.newBio.length>0&&this.newURL.length>0?(this.updateBio(),this.updatePFP()):this.newBio.length>0?this.updateBio():this.newURL.length>0&&this.updatePFP(),this.closeProfileEdit(),this.refresh(),this.endLoad()},updateBio(){v({id:this.uid,field:"bio",value:this.newBio}).then(o=>{console.log(o.data.body),this.accountInfo.bio=this.newBio,l(this.accountInfo),this.newBio=""}).catch(o=>{console.log(o.code,o.message)})},updatePFP(){v({id:this.uid,field:"pfpURL",value:this.newURL}).then(o=>{console.log(o.data.body),this.accountInfo.bio=this.pfpURL,l(this.accountInfo),this.newURL=""}).catch(o=>{console.log(o.code,o.message)})}},computed:{pfpURL(){return this.accountInfo.pfpURL?this.accountInfo.pfpURL:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"}}},s=o=>(D("data-v-92e082e7"),o=o(),C(),o),G={key:0},T={id:"myModal1",class:"modal"},V={style:{"align-items":"center"},class:"modal-content"},q=s(()=>e("h1",{class:"h3 mb-3 fw-normal",style:{color:"white","font-size":"40px"}},"Edit Profile",-1)),N={class:"form-floating"},K=s(()=>e("label",{for:"floatingInput"},"Edit Bio",-1)),O=s(()=>e("br",null,null,-1)),W={class:"form-floating"},H=s(()=>e("label",{for:"floatingInput"},"Change Profile Picture",-1)),J=s(()=>e("br",null,null,-1)),X=s(()=>e("br",null,null,-1)),$=s(()=>e("head",null,[e("meta",{charset:"UTF-8"}),e("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})],-1)),Q={class:"header__wrapper",style:{"background-color":"black"}},Y={class:"cols__container",style:{"background-color":"#151515"}},Z={class:"right__col",style:{"background-color":"#151515"}},ee={class:"left__col",style:{"background-color":"#151515"}},te={class:"card",style:{"background-color":"#151515"}},oe={class:"rounded-top text-white d-flex flex-row",style:{"background-color":"#151515",height:"200px"}},ie=s(()=>e("div",{class:"dropdown"},null,-1)),se={class:"ms-4 mt-5flex-column",style:{width:"150px","background-color":"#151515"}},ae=["src"],ne={class:"ms-3",style:{"margin-top":"30px"}},de={style:{"text-align":"left","font-size":"50px"}},le=M('<br data-v-92e082e7><div class="p-4 text-black" style="text-align:left;background-color:#151515;" data-v-92e082e7><nav data-v-92e082e7><ul data-v-92e082e7><li data-v-92e082e7><a href="" data-v-92e082e7>Liked Albums</a></li></ul><br data-v-92e082e7></nav><div class="photos" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/6/6d/Dire_Straits_-_Alchemy_Dire_Straits_Live.jpg" alt="Photo" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/Random_Access_Memories.jpg/220px-Random_Access_Memories.jpg" data-v-92e082e7><img src="https://mixdownmag.com.au/wp-content/uploads/2020/11/mixdown-magazine-kanye-west-mbdtf.jpg" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/3/3b/Dark_Side_of_the_Moon.png" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/7/70/Graduation_%28album%29.jpg" data-v-92e082e7><img src="https://americansongwriter.com/wp-content/uploads/2022/07/Kanye-West-album-cover-kids-see-ghosts.jpg" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/6/6d/Dire_Straits_-_Alchemy_Dire_Straits_Live.jpg" alt="Photo" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/Random_Access_Memories.jpg/220px-Random_Access_Memories.jpg" data-v-92e082e7><img src="https://mixdownmag.com.au/wp-content/uploads/2020/11/mixdown-magazine-kanye-west-mbdtf.jpg" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/3/3b/Dark_Side_of_the_Moon.png" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/7/70/Graduation_%28album%29.jpg" data-v-92e082e7><img src="https://americansongwriter.com/wp-content/uploads/2022/07/Kanye-West-album-cover-kids-see-ghosts.jpg" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/6/6d/Dire_Straits_-_Alchemy_Dire_Straits_Live.jpg" alt="Photo" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/Random_Access_Memories.jpg/220px-Random_Access_Memories.jpg" data-v-92e082e7><img src="https://mixdownmag.com.au/wp-content/uploads/2020/11/mixdown-magazine-kanye-west-mbdtf.jpg" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/3/3b/Dark_Side_of_the_Moon.png" data-v-92e082e7><img src="https://upload.wikimedia.org/wikipedia/en/7/70/Graduation_%28album%29.jpg" data-v-92e082e7><img src="https://americansongwriter.com/wp-content/uploads/2022/07/Kanye-West-album-cover-kids-see-ghosts.jpg" data-v-92e082e7></div></div>',2),ce=s(()=>e("br",null,null,-1)),re={key:1};function pe(o,t,n,ge,d,a){return this.isLoggedIn?(p(),u("div",G,[e("div",T,[e("div",V,[e("span",{class:"close",onClick:t[0]||(t[0]=i=>a.closeProfileEdit())},"Ã—"),q,e("div",N,[m(e("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":t[1]||(t[1]=i=>d.newBio=i)},null,512),[[_,d.newBio]]),K]),O,e("div",W,[m(e("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":t[2]||(t[2]=i=>d.newURL=i)},null,512),[[_,d.newURL]]),H]),J,e("a",{onClick:t[3]||(t[3]=(...i)=>a.updateProfile&&a.updateProfile(...i)),class:"btn-get-started"},"Submit"),X,e("a",{onClick:t[4]||(t[4]=(...i)=>a.logout&&a.logout(...i)),class:"btn-get-started"},"Sign out")])]),$,e("body",null,[e("div",Q,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",oe,[ie,e("div",se,[e("img",{src:this.pfpURL,alt:"Generic placeholder image",class:"img-fluid img-thumbnail mt-4 mb-2",style:{width:"150px","z-index":"1"}},null,8,ae),e("button",{type:"button",style:{"z-index":"1","background-color":"white","border-radius":"4px",border:"none",width:"150px"},onClick:t[5]||(t[5]=i=>a.openProfileEdit())}," Edit profile ")]),e("div",ne,[e("h2",de,f(this.accountInfo.username),1),e("p",null,f(this.accountInfo.bio),1)])]),le])]),ce])])])])])):(p(),u("div",re,[e("a",{onClick:t[6]||(t[6]=i=>a.opensignin()),class:"btn-get-started",style:{color:"black"}},"Log In"),e("a",{onClick:t[7]||(t[7]=i=>a.opensignup()),class:"btn-get-started",style:{color:"black"}},"Create")]))}const P=B(z,[["render",pe],["__scopeId","data-v-92e082e7"]]),ue={class:"wrapper"},he={name:"AboutUs",components:{TheHeader:y,AccountPageBody:P,TheFooter:x}},fe=Object.assign(he,{setup(o){return(t,n)=>(p(),u(E,null,[e("header",null,[r(y),e("div",ue,[r(P)])]),e("main",null,[r(x)])],64))}});export{fe as default};
