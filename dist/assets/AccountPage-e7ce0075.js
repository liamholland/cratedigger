import{g as S,a as A,h as x,b as P,d as F,o as u,c as T,i as h,j as d,e as _,s as r,k as f,l as p,m,T as U,f as L}from"./TheFooter-a647f6c4.js";import{_ as N,o as i,c as a,a as t,w as b,v,t as w,F as B,i as V,b as y,p as q,e as z,f as g}from"./index-0d95d139.js";const R=S(P),I=A(P),D=x(R,"getProfileInfo"),k=x(R,"updateProfile"),M={data(){return{email:"",password:"",uid:"",loggedIn:!1,accountInfo:{},newBio:"",newURL:""}},created(){F(I,e=>{e?(m(e.uid),this.loggedIn=!0):this.loggedIn=!1})()},watch:{loggedIn(){this.refresh()},"$route.params":{handler(){this.refresh()}}},methods:{opensignin(){u(0)},opensignup(){u(1)},openProfileEdit(){u(2)},closeProfileEdit(){T(2)},refresh(){this.accountInfo={},h()&&d()!=""&&JSON.stringify(_())=="{}"?(console.log("Getting Profile From Server"),D({id:d()}).then(o=>{r(o.data),this.accountInfo=o.data,console.log(this.accountInfo)}).catch(o=>{console.log(o.code),console.log(o.message)})):this.accountInfo=_(),this.loggedIn=h()},logout(){f(this),I.signOut(),m(""),r({}),this.loggedIn=h(),p(),this.$router.push({path:"/AccountPage/"})},updateProfile(){f(this),this.newBio.length>0&&this.newURL.length>0?(this.updateBio(),this.updatePFP()):this.newBio.length>0?this.updateBio():this.newURL.length>0&&this.updatePFP(),this.closeProfileEdit(),this.refresh()},updateBio(){k({id:d(),field:"bio",value:this.newBio}).then(o=>{console.log(o.data.body),this.accountInfo.bio=this.newBio,r(this.accountInfo),this.newBio="",p()}).catch(o=>{console.log(o.code,o.message)})},updatePFP(){k({id:d(),field:"pfpURL",value:this.newURL}).then(o=>{console.log(o.data.body),this.accountInfo.pfpURL=this.newURL,r(this.accountInfo),this.newURL="",p()}).catch(o=>{console.log(o.code,o.message)})}},computed:{pfpURL(){return JSON.stringify(this.accountInfo)!="{}"&&this.accountInfo.pfpURL!=null?this.accountInfo.pfpURL:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"}}},n=o=>(q("data-v-af93d6b6"),o=o(),z(),o),O={key:0},j={id:"myModal1",class:"modal"},G={style:{"align-items":"center"},class:"modal-content"},J=n(()=>t("h1",{class:"h3 mb-3 fw-normal",style:{color:"white","font-size":"40px"}},"Edit Profile",-1)),H={class:"form-floating"},X=n(()=>t("label",{for:"floatingInput"},"Edit Bio",-1)),Y=n(()=>t("br",null,null,-1)),K={class:"form-floating"},Q=n(()=>t("label",{for:"floatingInput"},"Change Profile Picture",-1)),W=n(()=>t("br",null,null,-1)),Z=n(()=>t("br",null,null,-1)),$=n(()=>t("head",null,[t("meta",{charset:"UTF-8"}),t("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),t("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})],-1)),tt={class:"header__wrapper",style:{"background-color":"black"}},ot={class:"cols__container",style:{"background-color":"#151515"}},et={class:"right__col",style:{"background-color":"#151515"}},st={class:"left__col",style:{"background-color":"#151515"}},nt={class:"card",style:{"background-color":"#151515"}},lt={class:"rounded-top text-white d-flex flex-row",style:{"background-color":"#151515",height:"200px"}},it=n(()=>t("div",{class:"dropdown"},null,-1)),at={class:"ms-4 mt-5flex-column",style:{width:"150px","background-color":"#151515"}},ct=["src"],dt={class:"ms-3",style:{"margin-top":"30px"}},rt={class:"display-5 fw-bold",style:{"font-size":"225%"}},ut=n(()=>t("br",null,null,-1)),ht={class:"p-4 text-black",style:{"text-align":"left","background-color":"#151515"}},pt=n(()=>t("nav",null,[t("ul",null,[t("li",null,[t("a",{href:""},"Liked Albums")])]),t("br")],-1)),gt={class:"photos"},_t=["src","alt"],ft=n(()=>t("br",null,null,-1)),mt=n(()=>t("div",{class:"col-lg-6 mx-auto",style:{"padding-top":"10%",width:"100vw",height:"60vh","background-color":"#151515"}},null,-1)),bt={key:1},vt={class:"px-4 py-5 text-center",style:{width:"100vw",height:"100vh",color:"white","background-color":"black"}},wt={class:"col-lg-6 mx-auto",style:{"padding-top":"10%"}},yt={class:"lead mb-4",style:{color:"white"}},It={style:{display:"inline"}},kt={style:{display:"inline"}},xt=n(()=>t("div",{class:"d-grid gap-2 d-sm-flex justify-content-sm-center"},null,-1));function Pt(o,e,E,Bt,c,l){return this.loggedIn?(i(),a("div",O,[t("div",j,[t("div",G,[t("span",{class:"close",onClick:e[0]||(e[0]=s=>l.closeProfileEdit())},"Ã—"),J,t("div",H,[b(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":e[1]||(e[1]=s=>c.newBio=s)},null,512),[[v,c.newBio]]),X]),Y,t("div",K,[b(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":e[2]||(e[2]=s=>c.newURL=s)},null,512),[[v,c.newURL]]),Q]),W,t("a",{onClick:e[3]||(e[3]=(...s)=>l.updateProfile&&l.updateProfile(...s)),class:"btn-get-started"},"Submit"),Z,t("a",{onClick:e[4]||(e[4]=(...s)=>l.logout&&l.logout(...s)),class:"btn-get-started"},"Sign out")])]),$,t("body",null,[t("div",tt,[t("div",ot,[t("div",et,[t("div",st,[t("div",nt,[t("div",lt,[it,t("div",at,[t("img",{src:this.pfpURL,alt:"Generic placeholder image",class:"img-fluid img-thumbnail mt-4 mb-2",style:{height:"150px",width:"150px","z-index":"1"}},null,8,ct),t("button",{type:"button",style:{"z-index":"1","background-color":"white","border-radius":"4px",border:"none",width:"150px"},onClick:e[5]||(e[5]=s=>l.openProfileEdit())}," Edit profile ")]),t("div",dt,[t("h2",rt,w(this.accountInfo.username),1),t("p",null,w(this.accountInfo.bio),1)])]),ut,t("div",ht,[pt,t("div",gt,[(i(!0),a(B,null,V(this.accountInfo.likedAlbums,s=>(i(),a("img",{src:s.images[0].url,alt:s.name},null,8,_t))),256))])])])]),ft])])]),mt])])):(i(),a("div",bt,[t("section",vt,[t("div",wt,[t("h4",yt,[y("You are not logged into your account. To login click "),t("h3",It,[t("strong",null,[t("a",{onClick:e[6]||(e[6]=s=>l.opensignin())},"here")])]),y(" or to create an account click "),t("h3",kt,[t("strong",null,[t("a",{onClick:e[7]||(e[7]=s=>l.opensignup())},"here")])])]),xt])])]))}const C=N(M,[["render",Pt],["__scopeId","data-v-af93d6b6"]]),Ut={class:"wrapper"},Lt={name:"AboutUs",components:{TheHeader:U,AccountPageBody:C,TheFooter:L}},Et=Object.assign(Lt,{setup(o){return(e,E)=>(i(),a(B,null,[t("header",null,[g(U),t("div",Ut,[g(C)])]),t("main",null,[g(L)])],64))}});export{Et as default};
