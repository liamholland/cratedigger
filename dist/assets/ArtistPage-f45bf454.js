import{g as b,h as d,c as k,T as h,a as m}from"./TheFooter-b57cb67a.js";import{_ as v,o as r,c as i,b as e,t as c,F as p,i as A,g as w,p as y,h as R,d as _}from"./index-6eda13ce.js";const u=b(k),$=d(u,"getSpotifyToken"),x=d(u,"getArtist"),N=d(u,"getAlbums"),T=d(u,"getRelatedArtists"),B={data(){return{artistName:"",albums:[],mostRelated:""}},created(){this.refresh()},methods:{refresh(){$().then(t=>{x({token:t.data.access_token,id:this.$route.params.aid}).then(s=>{this.artistName=s.data.name,N({token:t.data.access_token,id:this.$route.params.aid}).then(a=>{this.albums=a.data.items.sort(this.compareDates),T({token:t.data.access_token,id:this.$route.params.aid}).then(o=>{console.log(o),this.mostRelated=o.data.artists[0]}).catch(o=>{console.log(o)})}).catch(a=>{console.log(a)})}).catch(s=>{console.log(s)})}).catch(t=>{console.log(t)})},isRepeat(t){let s=this.albums.indexOf(t);if(s==0)return!1;if(s!=-1){let a=this.albums[s-1];return t.name==a.name}},compareDates(t,s){let a=new Date(t.release_date),o=new Date(s.release_date);return a<o?-1:a>o?1:0},goToNewArtist(t){this.$router.push({name:"ArtistPage",params:{aid:t}}),this.refresh()}}},n=t=>(y("data-v-df209c12"),t=t(),R(),t),C={class:"body"},D=n(()=>e("br",null,null,-1)),I={class:"artistName"},S=n(()=>e("br",null,null,-1)),F=n(()=>e("br",null,null,-1)),P=n(()=>e("br",null,null,-1)),V=n(()=>e("br",null,null,-1)),O={style:{"background-color":"black"}},j={key:0,class:"albumResult"},z=["src"],E={class:"albumInfo"},H=n(()=>e("button",{type:"button",class:"btn btn-outline-danger",style:{position:"absolute",left:"72.5%"}},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart-fill",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})])],-1));function L(t,s,a,o,G,f){return r(),i("section",C,[D,e("p",I,c(this.artistName),1),e("button",{class:"btn-get-started",onClick:s[0]||(s[0]=l=>f.goToNewArtist(this.mostRelated.id))},"Related Artist: "+c(this.mostRelated.name),1),S,F,P,V,e("ul",O,[(r(!0),i(p,null,A(this.albums,l=>(r(),i("li",null,[this.isRepeat(l)?w("",!0):(r(),i("div",j,[e("img",{src:l.images[0].url,alt:"Album Cover"},null,8,z),e("div",E,[H,e("h1",null,c(l.name),1),e("h3",null,c(l.release_date),1)])]))]))),256))])])}const g=v(B,[["render",L],["__scopeId","data-v-df209c12"]]),M={class:"wrapper"},q={name:"ArtistPage",components:{TheHeader:h,ArtistPageBody:g,TheFooter:m}},Q=Object.assign(q,{setup(t){return(s,a)=>(r(),i(p,null,[e("header",null,[_(h),e("div",M,[_(g)])]),e("main",null,[_(m)])],64))}});export{Q as default};
