import{g as y,b as x,c as f,o as P,h as n,T as w,a as v}from"./TheFooter-5a4f17c7.js";import{_ as A,o as p,c as u,b as t,w as g,v as m,t as _,a as B,p as L,h as S,d as r,F as j}from"./index-e878f507.js";const c=y(f),b=x(f),I={data(){return{email:"",username:"",password:"",uid:"",isLoggedIn:!1,name:"",bio:"",pfp:"",likedAlbums:[],likedArtists:[],newBio:"",newURL:"",loadingBar:""}},created(){this.refresh()},watch:{"$route.params":{handler(){this.refresh()}}},methods:{opensignin(){let a=document.querySelectorAll(".modal");a[0].style.display="flex"},opensignup(){let a=document.querySelectorAll(".modal");a[1].style.display="flex"},openProfileEdit(){let a=document.querySelectorAll(".modal");a[2].style.display="flex"},closeProfileEdit(){let a=document.querySelectorAll(".modal");a[2].style.display="none"},refresh(){this.loadingBar=this.$loading.show(),console.log(this.uid),P(b,e=>{this.uid=e?e.uid:this.$route.params.uid,this.isLoggedIn=!!e,this.isLoggedIn&&this.uid!=null&&(console.log(this.uid),n(c,"getProfileInfo")({id:this.uid}).then(s=>{console.log(s.data),this.name=s.data.username,this.bio=s.data.bio,this.pfp=s.data.pfpURL,this.likedAlbums=s.data.likedAlbums,this.likedArtists=s.data.likedArtists}).catch(s=>{console.log(s.code),console.log(s.message)}))})(),this.loadingBar.hide()},logout(){this.loadingBar=this.$loading.show(),b.signOut(),this.uid="",this.isLoggedIn=!1,this.loadingBar.hide()},updateProfile(){this.newBio.length>0&&this.newURL.length>0?(this.updateBio(),this.updatePFP()):this.newBio.length>0?this.updateBio():this.newURL.length>0&&this.updatePFP(),this.closeProfileEdit()},updateBio(){const a=n(c,"updateProfile");console.log(this.uid),a({id:this.uid,field:"bio",value:this.newBio}).then(e=>{console.log(e.data.body),this.newBio="",this.refresh()}).catch(e=>{console.log(e.code,e.message)})},updatePFP(){const a=n(c,"updateProfile");console.log(this.uid),a({id:this.uid,field:"pfpURL",value:this.newURL}).then(e=>{console.log(e.data.body),this.newURL="",this.refresh()}).catch(e=>{console.log(e.code,e.message)})}},computed:{pfpURL(){return this.pfp==""?"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png":this.pfp}}},o=a=>(L("data-v-ba3a602d"),a=a(),S(),a),R={key:0},U={id:"myModal1",class:"modal"},C={style:{"align-items":"center"},class:"modal-content"},D=o(()=>t("h1",{class:"h3 mb-3 fw-normal",style:{color:"white","font-size":"40px"}},"Edit Profile",-1)),M={class:"form-floating"},E=o(()=>t("label",{for:"floatingInput"},"Edit Bio",-1)),F=o(()=>t("br",null,null,-1)),q={class:"form-floating"},z=o(()=>t("label",{for:"floatingInput"},"Change Profile Picture",-1)),T=o(()=>t("br",null,null,-1)),V=o(()=>t("br",null,null,-1)),G=o(()=>t("head",null,[t("meta",{charset:"UTF-8"}),t("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),t("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})],-1)),K={class:"header__wrapper",style:{"background-color":"black"}},N={class:"cols__container",style:{"background-color":"#151515"}},W={class:"right__col",style:{"background-color":"#151515"}},O={class:"left__col",style:{"background-color":"#151515"}},$={class:"card",style:{"background-color":"#151515"}},H={class:"rounded-top text-white d-flex flex-row",style:{"background-color":"#151515",height:"200px"}},X=o(()=>t("div",{class:"dropdown"},null,-1)),J={class:"ms-4 mt-5flex-column",style:{width:"150px","background-color":"#151515"}},Q=["src"],Y={class:"ms-3",style:{"margin-top":"30px"}},Z={style:{"text-align":"left","font-size":"50px"}},tt=B('<br data-v-ba3a602d><div class="p-4 text-black" style="text-align:left;background-color:#151515;" data-v-ba3a602d><nav data-v-ba3a602d><ul data-v-ba3a602d><li data-v-ba3a602d><a href="" data-v-ba3a602d>Liked Albums</a></li></ul><br data-v-ba3a602d></nav><div class="photos" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/6/6d/Dire_Straits_-_Alchemy_Dire_Straits_Live.jpg" alt="Photo" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/Random_Access_Memories.jpg/220px-Random_Access_Memories.jpg" data-v-ba3a602d><img src="https://mixdownmag.com.au/wp-content/uploads/2020/11/mixdown-magazine-kanye-west-mbdtf.jpg" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/3/3b/Dark_Side_of_the_Moon.png" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/7/70/Graduation_%28album%29.jpg" data-v-ba3a602d><img src="https://americansongwriter.com/wp-content/uploads/2022/07/Kanye-West-album-cover-kids-see-ghosts.jpg" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/6/6d/Dire_Straits_-_Alchemy_Dire_Straits_Live.jpg" alt="Photo" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/Random_Access_Memories.jpg/220px-Random_Access_Memories.jpg" data-v-ba3a602d><img src="https://mixdownmag.com.au/wp-content/uploads/2020/11/mixdown-magazine-kanye-west-mbdtf.jpg" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/3/3b/Dark_Side_of_the_Moon.png" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/7/70/Graduation_%28album%29.jpg" data-v-ba3a602d><img src="https://americansongwriter.com/wp-content/uploads/2022/07/Kanye-West-album-cover-kids-see-ghosts.jpg" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/6/6d/Dire_Straits_-_Alchemy_Dire_Straits_Live.jpg" alt="Photo" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/thumb/a/a7/Random_Access_Memories.jpg/220px-Random_Access_Memories.jpg" data-v-ba3a602d><img src="https://mixdownmag.com.au/wp-content/uploads/2020/11/mixdown-magazine-kanye-west-mbdtf.jpg" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/3/3b/Dark_Side_of_the_Moon.png" data-v-ba3a602d><img src="https://upload.wikimedia.org/wikipedia/en/7/70/Graduation_%28album%29.jpg" data-v-ba3a602d><img src="https://americansongwriter.com/wp-content/uploads/2022/07/Kanye-West-album-cover-kids-see-ghosts.jpg" data-v-ba3a602d></div></div>',2),et=o(()=>t("br",null,null,-1)),at={key:1};function it(a,e,h,s,l,d){return this.isLoggedIn?(p(),u("div",R,[t("div",U,[t("div",C,[t("span",{class:"close",onClick:e[0]||(e[0]=i=>d.closeProfileEdit())},"Ã—"),D,t("div",M,[g(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":e[1]||(e[1]=i=>l.newBio=i)},null,512),[[m,l.newBio]]),E]),F,t("div",q,[g(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":e[2]||(e[2]=i=>l.newURL=i)},null,512),[[m,l.newURL]]),z]),T,t("a",{onClick:e[3]||(e[3]=(...i)=>d.updateProfile&&d.updateProfile(...i)),class:"btn-get-started"},"Submit"),V,t("a",{onClick:e[4]||(e[4]=(...i)=>d.logout&&d.logout(...i)),class:"btn-get-started"},"Sign out")])]),G,t("body",null,[t("div",K,[t("div",N,[t("div",W,[t("div",O,[t("div",$,[t("div",H,[X,t("div",J,[t("img",{src:this.pfpURL,alt:"Generic placeholder image",class:"img-fluid img-thumbnail mt-4 mb-2",style:{width:"150px","z-index":"1"}},null,8,Q),t("button",{type:"button",style:{"z-index":"1","background-color":"white","border-radius":"4px",border:"none",width:"150px"},onClick:e[5]||(e[5]=i=>d.openProfileEdit())}," Edit profile ")]),t("div",Y,[t("h2",Z,_(this.name),1),t("p",null,_(this.bio),1)])]),tt])]),et])])])])])):(p(),u("div",at,[t("a",{onClick:e[6]||(e[6]=i=>d.opensignin()),class:"btn-get-started",style:{color:"black"}},"Log In"),t("a",{onClick:e[7]||(e[7]=i=>d.opensignup()),class:"btn-get-started",style:{color:"black"}},"Create")]))}const k=A(I,[["render",it],["__scopeId","data-v-ba3a602d"]]),st={class:"wrapper"},ot={name:"AboutUs",components:{TheHeader:w,AccountPageBody:k,TheFooter:v}},nt=Object.assign(ot,{setup(a){return(e,h)=>(p(),u(j,null,[t("header",null,[r(w),t("div",st,[r(k)])]),t("main",null,[r(v)])],64))}});export{nt as default};
