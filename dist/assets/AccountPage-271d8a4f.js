import{g as C,a as E,h as k,b as x,i as r,o as h,c as A,d as F,j as g,k as p,s as u,e as f,l as S,T as P,f as U}from"./TheFooter-9a9d1ce9.js";import{_ as T,o as a,c,a as t,w as m,v as b,t as v,F as L,i as V,b as w,p as q,d as z,e as _}from"./index-48285595.js";const B=C(x),y=E(x),M=k(B,"getProfileInfo"),I=k(B,"updateProfile"),N={data(){return{email:"",password:"",uid:"",loggedIn:r(),accountInfo:{},newBio:"",newURL:""}},created(){this.refresh()},watch:{"$route.params":{handler(){this.refresh()}}},methods:{opensignin(){h(0)},opensignup(){h(1)},openProfileEdit(){h(2)},closeProfileEdit(){A(2)},refresh(){this.accountInfo={},F(y,o=>{this.uid=o?o.uid:this.$route.params.uid,r()&&this.uid!=null&&JSON.stringify(f())=="{}"?(console.log("Getting Profile From Server"),M({id:this.uid}).then(l=>{u(l.data),this.accountInfo=l.data,console.log(this.accountInfo)}).catch(l=>{console.log(l.code),console.log(l.message)})):this.accountInfo=f()})(),this.loggedIn=r()},logout(){g(this),y.signOut(),S(""),u({}),this.loggedIn=r(),p(),this.$router.push({path:"/AccountPage/"})},updateProfile(){g(this),this.newBio.length>0&&this.newURL.length>0?(this.updateBio(),this.updatePFP()):this.newBio.length>0?this.updateBio():this.newURL.length>0&&this.updatePFP(),this.closeProfileEdit(),this.refresh()},updateBio(){I({id:this.uid,field:"bio",value:this.newBio}).then(e=>{console.log(e.data.body),this.accountInfo.bio=this.newBio,u(this.accountInfo),this.newBio="",p()}).catch(e=>{console.log(e.code,e.message)})},updatePFP(){I({id:this.uid,field:"pfpURL",value:this.newURL}).then(e=>{console.log(e.data.body),this.accountInfo.pfpURL=this.newURL,u(this.accountInfo),this.newURL="",p()}).catch(e=>{console.log(e.code,e.message)})}},computed:{pfpURL(){return this.accountInfo.pfpURL?this.accountInfo.pfpURL:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"}}},n=e=>(q("data-v-6049c364"),e=e(),z(),e),j={key:0},D={id:"myModal1",class:"modal"},O={style:{"align-items":"center"},class:"modal-content"},G=n(()=>t("h1",{class:"h3 mb-3 fw-normal",style:{color:"white","font-size":"40px"}},"Edit Profile",-1)),H={class:"form-floating"},J=n(()=>t("label",{for:"floatingInput"},"Edit Bio",-1)),X=n(()=>t("br",null,null,-1)),Y={class:"form-floating"},$=n(()=>t("label",{for:"floatingInput"},"Change Profile Picture",-1)),K=n(()=>t("br",null,null,-1)),Q=n(()=>t("br",null,null,-1)),W=n(()=>t("head",null,[t("meta",{charset:"UTF-8"}),t("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),t("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})],-1)),Z={class:"header__wrapper",style:{"background-color":"black"}},tt={class:"cols__container",style:{"background-color":"#151515"}},ot={class:"right__col",style:{"background-color":"#151515"}},et={class:"left__col",style:{"background-color":"#151515"}},st={class:"card",style:{"background-color":"#151515"}},nt={class:"rounded-top text-white d-flex flex-row",style:{"background-color":"#151515",height:"200px"}},it=n(()=>t("div",{class:"dropdown"},null,-1)),lt={class:"ms-4 mt-5flex-column",style:{width:"150px","background-color":"#151515"}},at=["src"],ct={class:"ms-3",style:{"margin-top":"30px"}},dt={class:"display-5 fw-bold",style:{"font-size":"225%"}},rt=n(()=>t("br",null,null,-1)),ut={class:"p-4 text-black",style:{"text-align":"left","background-color":"#151515"}},ht=n(()=>t("nav",null,[t("ul",null,[t("li",null,[t("a",{href:""},"Liked Albums")])]),t("br")],-1)),pt={class:"photos"},_t=["src","alt"],gt=n(()=>t("br",null,null,-1)),ft=n(()=>t("div",{class:"col-lg-6 mx-auto",style:{"padding-top":"10%",width:"100vw",height:"60vh","background-color":"#1a1a1a"}},null,-1)),mt={key:1},bt={class:"px-4 py-5 text-center",style:{width:"100vw",height:"100vh",color:"white","background-color":"black"}},vt={class:"col-lg-6 mx-auto",style:{"padding-top":"10%"}},wt={class:"lead mb-4",style:{color:"white"}},yt={style:{display:"inline"}},It={style:{display:"inline"}},kt=n(()=>t("div",{class:"d-grid gap-2 d-sm-flex justify-content-sm-center"},null,-1));function xt(e,o,l,Lt,d,i){return this.loggedIn?(a(),c("div",j,[t("div",D,[t("div",O,[t("span",{class:"close",onClick:o[0]||(o[0]=s=>i.closeProfileEdit())},"Ã—"),G,t("div",H,[m(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":o[1]||(o[1]=s=>d.newBio=s)},null,512),[[b,d.newBio]]),J]),X,t("div",Y,[m(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":o[2]||(o[2]=s=>d.newURL=s)},null,512),[[b,d.newURL]]),$]),K,t("a",{onClick:o[3]||(o[3]=(...s)=>i.updateProfile&&i.updateProfile(...s)),class:"btn-get-started"},"Submit"),Q,t("a",{onClick:o[4]||(o[4]=(...s)=>i.logout&&i.logout(...s)),class:"btn-get-started"},"Sign out")])]),W,t("body",null,[t("div",Z,[t("div",tt,[t("div",ot,[t("div",et,[t("div",st,[t("div",nt,[it,t("div",lt,[t("img",{src:this.pfpURL,alt:"Generic placeholder image",class:"img-fluid img-thumbnail mt-4 mb-2",style:{height:"150px",width:"150px","z-index":"1"}},null,8,at),t("button",{type:"button",style:{"z-index":"1","background-color":"white","border-radius":"4px",border:"none",width:"150px"},onClick:o[5]||(o[5]=s=>i.openProfileEdit())}," Edit profile ")]),t("div",ct,[t("h2",dt,v(this.accountInfo.username),1),t("p",null,v(this.accountInfo.bio),1)])]),rt,t("div",ut,[ht,t("div",pt,[(a(!0),c(L,null,V(this.accountInfo.likedAlbums,s=>(a(),c("img",{src:s.images[0].url,alt:s.name},null,8,_t))),256))])])])]),gt])])]),ft])])):(a(),c("div",mt,[t("section",bt,[t("div",vt,[t("h4",wt,[w("You are not logged into your account. To login click "),t("h3",yt,[t("strong",null,[t("a",{onClick:o[6]||(o[6]=s=>i.opensignin())},"here")])]),w(" or to create an account click "),t("h3",It,[t("strong",null,[t("a",{onClick:o[7]||(o[7]=s=>i.opensignup())},"here")])])]),kt])])]))}const R=T(N,[["render",xt],["__scopeId","data-v-6049c364"]]),Pt={class:"wrapper"},Ut={name:"AboutUs",components:{TheHeader:P,AccountPageBody:R,TheFooter:U}},Ct=Object.assign(Ut,{setup(e){return(o,l)=>(a(),c(L,null,[t("header",null,[_(P),t("div",Pt,[_(R)])]),t("main",null,[_(U)])],64))}});export{Ct as default};
