import{g as C,b as E,h as k,c as P,i as r,o as h,d as S,e as A,s as f,f as _,j as u,k as g,l as F,T as x,a as U}from"./TheFooter-ed33e514.js";import{_ as T,o as a,c as d,b as t,w as b,v,t as m,F as L,i as V,e as w,a as N,p as q,h as z,d as p}from"./index-49e1ebc2.js";const B=C(P),y=E(P),M=k(B,"getProfileInfo"),I=k(B,"updateProfile"),D={data(){return{email:"",password:"",uid:"",loggedIn:r(),accountInfo:{},newBio:"",newURL:""}},created(){this.refresh()},watch:{"$route.params":{handler(){this.refresh()}}},methods:{opensignin(){h(0)},opensignup(){h(1)},openProfileEdit(){h(2)},closeProfileEdit(){S(2)},refresh(){this.accountInfo={},A(y,o=>{this.uid=o?o.uid:this.$route.params.uid,r()&&this.uid!=null&&JSON.stringify(g())=="{}"?(console.log("Getting Profile From Server"),M({id:this.uid}).then(i=>{u(i.data),this.accountInfo=i.data,console.log(this.accountInfo)}).catch(i=>{console.log(i.code),console.log(i.message)})):this.accountInfo=g()})(),this.loggedIn=r()},logout(){f(this),y.signOut(),F(""),u({}),this.loggedIn=r(),_(),this.$router.push({path:"/AccountPage/"})},updateProfile(){f(this),this.newBio.length>0&&this.newURL.length>0?(this.updateBio(),this.updatePFP()):this.newBio.length>0?this.updateBio():this.newURL.length>0&&this.updatePFP(),this.closeProfileEdit(),this.refresh()},updateBio(){I({id:this.uid,field:"bio",value:this.newBio}).then(s=>{console.log(s.data.body),this.accountInfo.bio=this.newBio,u(this.accountInfo),this.newBio="",_()}).catch(s=>{console.log(s.code,s.message)})},updatePFP(){I({id:this.uid,field:"pfpURL",value:this.newURL}).then(s=>{console.log(s.data.body),this.accountInfo.pfpURL=this.newURL,u(this.accountInfo),this.newURL="",_()}).catch(s=>{console.log(s.code,s.message)})}},computed:{pfpURL(){return this.accountInfo.pfpURL?this.accountInfo.pfpURL:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"}}},e=s=>(q("data-v-113d1923"),s=s(),z(),s),O={key:0},j={id:"myModal1",class:"modal"},G={style:{"align-items":"center"},class:"modal-content"},H=e(()=>t("h1",{class:"h3 mb-3 fw-normal",style:{color:"white","font-size":"40px"}},"Edit Profile",-1)),J={class:"form-floating"},X=e(()=>t("label",{for:"floatingInput"},"Edit Bio",-1)),Y=e(()=>t("br",null,null,-1)),$={class:"form-floating"},K=e(()=>t("label",{for:"floatingInput"},"Change Profile Picture",-1)),Q=e(()=>t("br",null,null,-1)),W=e(()=>t("br",null,null,-1)),Z=e(()=>t("head",null,[t("meta",{charset:"UTF-8"}),t("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),t("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})],-1)),tt={class:"header__wrapper",style:{"background-color":"black"}},ot={class:"cols__container",style:{"background-color":"#151515"}},et={class:"right__col",style:{"background-color":"#151515"}},st={class:"left__col",style:{"background-color":"#151515"}},nt={class:"card",style:{"background-color":"#151515"}},lt={class:"rounded-top text-white d-flex flex-row",style:{"background-color":"#151515",height:"200px"}},it=e(()=>t("div",{class:"dropdown"},null,-1)),at={class:"ms-4 mt-5flex-column",style:{width:"150px","background-color":"#151515"}},dt=["src"],ct={class:"ms-3",style:{"margin-top":"30px"}},rt={style:{"text-align":"left","font-size":"50px"}},ut=e(()=>t("br",null,null,-1)),ht={class:"p-4 text-black",style:{"text-align":"left","background-color":"#151515"}},_t=e(()=>t("nav",null,[t("ul",null,[t("li",null,[t("a",{href:""},"Liked Albums")])]),t("br")],-1)),pt={class:"photos"},ft=["src","alt"],gt=e(()=>t("br",null,null,-1)),bt={key:1},vt={id:"hero",class:"hero",style:{height:"100%"}},mt=e(()=>t("br",null,null,-1)),wt=e(()=>t("br",null,null,-1)),yt=e(()=>t("br",null,null,-1)),It=e(()=>t("br",null,null,-1)),kt=e(()=>t("br",null,null,-1)),Pt=e(()=>t("br",null,null,-1)),xt=e(()=>t("br",null,null,-1)),Ut=e(()=>t("br",null,null,-1)),Lt=e(()=>t("br",null,null,-1)),Bt={style:{color:"white"}},Rt={style:{display:"inline"}},Ct={style:{display:"inline"}},Et=N("<br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923><br data-v-113d1923>",22);function St(s,o,i,Tt,c,l){return this.loggedIn?(a(),d("div",O,[t("div",j,[t("div",G,[t("span",{class:"close",onClick:o[0]||(o[0]=n=>l.closeProfileEdit())},"Ã—"),H,t("div",J,[b(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":o[1]||(o[1]=n=>c.newBio=n)},null,512),[[v,c.newBio]]),X]),Y,t("div",$,[b(t("input",{class:"form-control",id:"floatingInput",required:"","onUpdate:modelValue":o[2]||(o[2]=n=>c.newURL=n)},null,512),[[v,c.newURL]]),K]),Q,t("a",{onClick:o[3]||(o[3]=(...n)=>l.updateProfile&&l.updateProfile(...n)),class:"btn-get-started"},"Submit"),W,t("a",{onClick:o[4]||(o[4]=(...n)=>l.logout&&l.logout(...n)),class:"btn-get-started"},"Sign out")])]),Z,t("body",null,[t("div",tt,[t("div",ot,[t("div",et,[t("div",st,[t("div",nt,[t("div",lt,[it,t("div",at,[t("img",{src:this.pfpURL,alt:"Generic placeholder image",class:"img-fluid img-thumbnail mt-4 mb-2",style:{width:"150px","z-index":"1"}},null,8,dt),t("button",{type:"button",style:{"z-index":"1","background-color":"white","border-radius":"4px",border:"none",width:"150px"},onClick:o[5]||(o[5]=n=>l.openProfileEdit())}," Edit profile ")]),t("div",ct,[t("h2",rt,m(this.accountInfo.username),1),t("p",null,m(this.accountInfo.bio),1)])]),ut,t("div",ht,[_t,t("div",pt,[(a(!0),d(L,null,V(this.accountInfo.likedAlbums,n=>(a(),d("img",{src:n.images[0].url,alt:n.name},null,8,ft))),256))])])])]),gt])])])])])):(a(),d("div",bt,[t("section",vt,[mt,wt,yt,It,kt,Pt,xt,Ut,Lt,t("h5",Bt,[w("You are not logged into your account. To login click "),t("h4",Rt,[t("strong",null,[t("a",{onClick:o[6]||(o[6]=n=>l.opensignin())},"here")])]),w(" or to create an account click "),t("h4",Ct,[t("strong",null,[t("a",{onClick:o[7]||(o[7]=n=>l.opensignup())},"here")])])]),Et])]))}const R=T(D,[["render",St],["__scopeId","data-v-113d1923"]]),At={class:"wrapper"},Ft={name:"AboutUs",components:{TheHeader:x,AccountPageBody:R,TheFooter:U}},qt=Object.assign(Ft,{setup(s){return(o,i)=>(a(),d(L,null,[t("header",null,[p(x),t("div",At,[p(R)])]),t("main",null,[p(U)])],64))}});export{qt as default};
